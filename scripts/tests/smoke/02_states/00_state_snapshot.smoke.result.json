{
  "test": "02_states/00_state_snapshot",
  "baseUrl": "http://localhost:3000",
  "timestampUtc": "2026-01-04T18:55:24.830Z",
  "backend": {
    "ready": true,
    "exit": null,
    "stdout": "Preparing cleanup...\n",
    "stderr": ""
  },
  "results": {
    "apiHealth": {
      "path": "/api/health",
      "status": 200,
      "ok": true,
      "body": {
        "ok": true,
        "serverTimeUtc": "2026-01-04T18:55:20Z"
      }
    },
    "layoutApiTests": {
      "skipped": false,
      "reason": null,
      "steps": {
        "initial": {
          "path": "/api/ui/layout",
          "status": 200,
          "ok": true,
          "body": {
            "panels": {
              "health": {
                "visible": true,
                "collapsed": false,
                "x": 0,
                "y": 0,
                "w": 3,
                "h": 8
              }
            },
            "lastUpdatedUtc": "2026-01-04T18:42:27.264Z"
          }
        },
        "replace": {
          "path": "/api/ui/layout",
          "method": "POST",
          "status": 200,
          "ok": true,
          "body": {
            "panels": {
              "health": {
                "visible": true,
                "collapsed": false,
                "x": 0,
                "y": 0,
                "w": 3,
                "h": 8
              },
              "secondary": {
                "visible": true,
                "collapsed": false,
                "x": 3,
                "y": 0,
                "w": 3,
                "h": 8
              }
            },
            "lastUpdatedUtc": "2026-01-04T18:55:20.994Z"
          }
        },
        "patch": {
          "path": "/api/ui/layout",
          "method": "PATCH",
          "status": 200,
          "ok": true,
          "body": {
            "panels": {
              "health": {
                "visible": true,
                "collapsed": true,
                "x": 4,
                "y": 1,
                "w": 4,
                "h": 6
              },
              "secondary": {
                "visible": true,
                "collapsed": false,
                "x": 3,
                "y": 0,
                "w": 3,
                "h": 8
              }
            },
            "lastUpdatedUtc": "2026-01-04T18:55:21.001Z"
          },
          "mergeOk": true
        },
        "invalidMissingPanels": {
          "path": "/api/ui/layout",
          "method": "PATCH",
          "status": 400,
          "ok": false,
          "body": {
            "statusCode": 400,
            "code": "FST_ERR_VALIDATION",
            "error": "Bad Request",
            "message": "body must have required property 'panels'"
          }
        },
        "invalidPanelShape": {
          "path": "/api/ui/layout",
          "method": "PATCH",
          "status": 400,
          "ok": false,
          "body": {
            "statusCode": 400,
            "code": "FST_ERR_VALIDATION",
            "error": "Bad Request",
            "message": "body/panels/health must have required property 'collapsed'"
          }
        },
        "validation": {
          "missingPanelsRejected": true,
          "invalidShapeRejected": true
        },
        "restore": {
          "path": "/api/ui/layout",
          "method": "POST",
          "status": 200,
          "ok": true,
          "body": {
            "panels": {
              "health": {
                "visible": true,
                "collapsed": false,
                "x": 0,
                "y": 0,
                "w": 3,
                "h": 8
              }
            },
            "lastUpdatedUtc": "2026-01-04T18:55:21.023Z"
          }
        }
      }
    },
    "uiLayout": {
      "path": "/api/ui/layout",
      "status": 200,
      "ok": true,
      "body": {
        "panels": {
          "health": {
            "visible": true,
            "collapsed": false,
            "x": 0,
            "y": 0,
            "w": 3,
            "h": 8
          }
        },
        "lastUpdatedUtc": "2026-01-04T18:55:21.023Z"
      }
    },
    "uiSmoke": {
      "skipped": false,
      "reason": null,
      "panelId": "health",
      "panelLabel": "Health",
      "dragOffsetX": 260,
      "dragOffsetY": 0,
      "steps": {
        "initialLayout": {
          "path": "/api/ui/layout",
          "status": 200,
          "ok": true,
          "body": {
            "panels": {
              "health": {
                "visible": true,
                "collapsed": false,
                "x": 0,
                "y": 0,
                "w": 3,
                "h": 8
              }
            },
            "lastUpdatedUtc": "2026-01-04T18:55:21.023Z"
          }
        },
        "ensureVisible": {
          "requested": true,
          "checkedBefore": true,
          "applied": false,
          "matched": true,
          "layout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 0,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:21.023Z"
            }
          }
        },
        "drag": {
          "startX": 0,
          "endX": 2,
          "moved": true,
          "movedPx": 216,
          "matched": true,
          "placeholderVisible": true,
          "beforeLayout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 0,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:21.023Z"
            }
          },
          "afterLayout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:23.773Z"
            }
          }
        },
        "collapse": {
          "collapsed": true,
          "matched": true,
          "height": 2,
          "heightOk": true,
          "layout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": true,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 2
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:23.877Z"
            }
          }
        },
        "expand": {
          "collapsed": false,
          "matched": true,
          "height": 8,
          "heightOk": true,
          "layout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:23.956Z"
            }
          }
        },
        "hide": {
          "requested": false,
          "checkedBefore": true,
          "applied": true,
          "matched": true,
          "layout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": false,
                  "collapsed": false,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:24.043Z"
            }
          }
        },
        "show": {
          "requested": true,
          "checkedBefore": false,
          "applied": true,
          "matched": true,
          "layout": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:24.109Z"
            }
          }
        },
        "reload": {
          "preserved": true,
          "beforeReload": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:24.109Z"
            }
          },
          "afterReload": {
            "path": "/api/ui/layout",
            "status": 200,
            "ok": true,
            "body": {
              "panels": {
                "health": {
                  "visible": true,
                  "collapsed": false,
                  "x": 2,
                  "y": 0,
                  "w": 3,
                  "h": 8
                }
              },
              "lastUpdatedUtc": "2026-01-04T18:55:24.109Z"
            }
          }
        }
      }
    }
  }
}